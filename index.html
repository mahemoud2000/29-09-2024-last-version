<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <title>تسجيل دخول</title>
    <!-- تحميل Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
</head>
<body>
    <form id="loginForm">
        <h2>تسجيل دخول</h2>
        <label for="loginName">اسم:</label>
        <input type="text" id="loginName" required>
        <br>
        <label for="loginPassword">كلمة السر:</label>
        <input type="password" id="loginPassword" required>
        <br>
        <button type="submit">تسجيل الدخول</button>
    </form>

    <p id="supportMessage" style="display:none;">
     كلمه السر خظاء   إذا فقدت كلمة السر يمكنك إرسال رسالة الدعم من أسفل الشاشة على مدار 24 ساعة، لا تقلق.
    </p>

    <script>
        // إعداد Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyCPpTAJDRfFuDkq2TGCVIU_LnmYRBXTnSc",
            authDomain: "new-protfolio.firebaseapp.com",
            databaseURL: "https://new-protfolio-default-rtdb.firebaseio.com",
            projectId: "new-protfolio",
            storageBucket: "new-protfolio.appspot.com",
            messagingSenderId: "90141039664",
            appId: "1:90141039664:web:44d13d2f3b943f510aa1f5"
        };

        // تهيئة Firebase
        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();

        // نموذج تسجيل الدخول
        document.getElementById('loginForm').addEventListener('submit', function(event) {
            event.preventDefault();
            const loginName = document.getElementById('loginName').value;
            const loginPassword = document.getElementById('loginPassword').value;

            // التحقق من بيانات الدخول
            database.ref('owners').once('value').then(snapshot => {
                let found = false;
                snapshot.forEach(childSnapshot => {
                    const owner = childSnapshot.val();
                    if (owner.name === loginName && owner.password === loginPassword) {
                        found = true;
                    }
                });

                if (found) {
                    alert('تم تسجيل الدخول بنجاح!');
                    // يمكنك إضافة تحويل المستخدم إلى الصفحة الرئيسية هنا
                    window.location.href = 'html/home.html';
                } else {
                    document.getElementById('supportMessage').style.display = 'block';
                }
            }).catch(error => {
                console.error('حدث خطأ: ', error);
            });
        });
    </script>
</body>
</html>
